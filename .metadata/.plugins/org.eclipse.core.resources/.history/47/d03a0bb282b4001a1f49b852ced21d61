import java.util.HashMap;

/*
Implement Rabin Karp Algorithm for Pattern matching in a string.

*/
public class RabinKarpAlgo {

	public static void main(String[] args) {
		String input = "aszjfabsdnfkjasndfkjabskksds";
		String pattern = "abs";
		
		int p = 5; //any prime number
		int value = 0;
		
		for(int i=0; i<pattern.length(); i++) {
			value += Math.pow(p, i)*(int)pattern.charAt(i);
		}
		
		int correct_hash = value;
		
		value = 0;
		
		for(int i=0; i<pattern.length(); i++) {
			value += Math.pow(p, i)*(int)input.charAt(i);
		}
		int low = 1;
		int high = pattern.length();
		
		//for first substring
		if(value == correct_hash && (pattern.equals(input.substring(low, high)))) {
			System.out.println("index : "+low);
			System.out.println("string : "+input.substring(low, high));
		}
		System.out.println("hash value : "+correct_hash);
		
		
		while(high<input.length()) {
			value = value - (int)input.charAt(low-1);
			value = value/p;
			
			System.out.println("input.substring(low, high)  : "+input.substring(low-1, high));
			if(value == correct_hash && (pattern.equals(input.substring(low, high)))) {
				System.out.println("index : "+low);
				System.out.println("string : "+input.substring(low, high));
			}
			System.out.println("value : "+value);
			System.out.println("low : "+low);
			System.out.println("high : "+high);
			System.out.println("----------------");
			low++;
			high++;
		}
	}
}